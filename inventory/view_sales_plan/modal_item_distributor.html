<script type="text/ng-template" id="modalItemDistributor.html">
  <div class="modal-header" style="padding-top:8px; padding-bottom:4px;">
    <div style="position:absolute; top:-14px; left:-14px">
      <button ng-click="cancel()" type="button" class="btn btn-sm btn_x_circle">
        <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
      </button>
    </div>
    <span style="font-size:1.2em;margin-left:24px">
      Missing Distributor
    </span>
  </div>
  <div class="modal-body" style="font-size:1.0em; height:100%; background-color:#ffffff; padding:0">
    <!--div style="text-align:center; margin-top:16px; font-size:1.3em; font-weight:bold">
      Distributor for <b>{{item.product}}</b>
    </div-->
    <div style="text-align:center; margin-top:24px; margin-bottom:16px">
      <img src="images/inv_delivery.png" height="48" width="48">
    </div>
    <div class="row" style="margin:6px 6px">
      <div class="col-xs-12" style="font-size:1.1em; padding:0px 16px">
        First, we need to make sure <b>{{item.product}}</b> is associated with a <b>Distributor</b> 
        before we add it to your Active beverages:
      </div>
      <div class="col-xs-12" style="margin-top:16px; text-align:center">
        <div class="btn-group" style="width:70% !important;" uib-dropdown>
          <button type="button" ng-class="{'my_error':error_distributor===true}" class="btn btn-default btn-md dropdown-toggle" style="width:100%" uib-dropdown-toggle>
            <span ng-if="distributor !== null" style="float:left; text-align:center; width:90%;">
              {{distributor.name}} 
            </span>
            <span ng-if="distributor === null" class="noselect" style="float:left; text-align:center; width:90%;  color:#999999">
              Select a Distributor
            </span>
            <span class="glyphicon glyphicon-triangle-bottom" style="text-align:right; margin-top:4px; font-size:12px; color:#888888"></span>
          </button>
          <ul class="loc_dropdown dropdown-menu" role="menu">
            <li class="inv_dropdown_li" ng-repeat="dist in all_distributors">
              <a ng-click="selectDistributor(dist)" class="noselect">{{dist.name}}</a>
            </li>
            <li class="inv_dropdown_li">
              <a ng-click="addNewDistributor()" class="new_loc noselect">+ New Distributor</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="row" ng-if="distributor!==null && item.container_type==='Keg'" style="margin:24px 6px 6px">
      <div class="col-xs-12" style="font-size:1.1em">
        We recommend specifying a <b>Keg Size</b> and <b>Deposit</b> value for this beverage.
      </div>
      <div class="col-xs-12" style="margin-top:16px; text-align:center">
        <div class="btn-group" style="width:70% !important" uib-dropdown>
          <button type="button" class="btn btn-default btn-md dropdown-toggle" style="width:100%" uib-dropdown-toggle>
            <span ng-if="keg !== null" style="float:left; text-align:center; width:40%;">
              {{keg.volume | number:1}} {{keg.unit}}
            </span>
            <span ng-if="keg !== null" style="float:left; text-align:center; width:50%; color:#999999">
              <span ng-if="keg.deposit === null">&nbsp;</span>
              <span ng-if="keg.deposit !== null">
                $ {{keg.deposit | number:2}}
              </span>
            </span>
            <span ng-if="keg===null" class="noselect" style="float:left; text-align:center; width:90%;  color:#999999">
              Select a Keg
            </span>
            <span class="glyphicon glyphicon-triangle-bottom" style="text-align:right; margin-top:4px; font-size:12px; color:#888888"></span>
          </button>
          <ul class="loc_dropdown dropdown-menu" role="menu">
            <li class="inv_dropdown_li" ng-if="keg!==null">
              <a ng-click="clearKeg()" class="noselect" style="color:#aaaaaa">None</a>
            </li>
            <li class="inv_dropdown_li" ng-repeat="keg in distributor.kegs">
              <a ng-click="selectKeg(keg)" class="noselect">{{keg.formatted}}</a>
            </li>
            <li class="inv_dropdown_li">
              <a ng-click="addNewKeg()" class="new_loc noselect">+ New Keg</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <hr style="margin: 24px 16px 12px"/>
    <div class="row" style="margin:0px 0px 24px">
      <div class="col-xs-12" style="text-align:right">
        <button ng-click="save()" type="button" class="btn btn-success btn_ok" ng-disabled="distributor===null" style="font-size:1.2em">
          <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Save Distributor
        </button>
      </div>
    </div>
  </div>
</script>

<div ng-include src="'./view_all/modal_new_dist.html'">
<div ng-include src="'./view_all/modal_new_keg.html'">